**Project Structure**

docker-vuejs-project/
│
├── project-directory/
│   ├── app/
│   │   ├── Dockerfile
│   │   ├── package.json
│   │   ├── package-lock.json
│   │   ├── src/  # Vue.js application source code
│   │   ├── public/
│   │   └── vue.config.js
│   ├── nginx/
│   │   ├── Dockerfile
│   │   └── nginx.conf
│   ├── docker-compose.yml

=====================================================================================

**Deployment Process**
1. Prepare the EC2 instance:
       Ensure your EC2 instance has Docker and Docker Compose installed:
              sudo apt update
              sudo apt install docker.io docker-compose
              sudo systemctl start docker
              sudo systemctl enable docker

2. Clone or upload the project to the EC2 instance:
       Transfer the docker-vuejs-project to your EC2 instance (or clone a GitHub repo).
3. Build and run the containers using Docker Compose:
       Navigate to your project-directory and run the following command to start the services:
              cd docker-vuejs-project/project-directory
              sudo docker-compose up --build -d
4. Container Information:
       I. App container (vuejs-app):
             Builds a Vue.js app from the app/Dockerfile.
             The Vue.js app is served by Nginx after being built.
             The final build is copied into /usr/share/nginx/html inside the container.
             Volume app-data is mounted at /usr/share/nginx/html to persist data in case of changes.
             Exposed internally to other containers at port 80.
       II. Nginx container (nginx-server):
             Builds a container using the Nginx official image from nginx/Dockerfile.
             Serves the Vue.js app via a reverse proxy configuration from the nginx/nginx.conf file.
             Volume nginx-data is mounted at /etc/nginx, allowing persistent Nginx configuration.
             Exposed externally to port 80 of the host, making the application accessible via the EC2 public IP or domain.
5. Network Configuration:
       Bridge network (app-network):
             The two services, vuejs-app and nginx-server, are connected using an internal bridge network (app-network).
             This ensures that the Nginx server can proxy traffic to the app container internally without exposing the app container's port externally.
6. Volumes:
       **app-data:** Mounted to /usr/share/nginx/html in the vuejs-app container, ensuring the built application files are stored in a persistent volume.
       **nginx-data:** Mounted to /etc/nginx in the nginx-server container to ensure persistent Nginx configuration and logs.

**Files Explanation:**
       docker-compose.yml: Defines the two services (app and nginx), assigns them separate volumes and network, and specifies dependencies (Nginx depends on the Vue.js app).
       app/Dockerfile:
              Stage 1 (build stage): Builds the Vue.js app using a Node.js base image, installs dependencies, and compiles the app into static files.
              Stage 2 (production stage): Uses an Nginx base image to serve the compiled static files.
              The compiled Vue.js app is served from /usr/share/nginx/html using the Nginx server.
       nginx/Dockerfile: Configures an Nginx server to act as a reverse proxy for the Vue.js app container. It pulls the official Nginx image and uses a custom nginx.conf file.
       nginx/nginx.conf: Defines the Nginx configuration. It listens on port 80 and proxies requests to the vuejs-app container running the Vue.js app.

**How it Works:**
       App Service: The app service builds the Vue.js app using Node.js, then Nginx serves the static files created during the build.
       Nginx Service: Nginx reverse proxies incoming requests to the vuejs-app container on port 80 (internal network). The Nginx container is accessible on port 80 of the EC2 instance's public IP.
       Volumes: The app-data volume persists any changes to the static files generated by the Vue.js build. The nginx-data volume keeps Nginx configurations intact across restarts.
       Networking: Both containers communicate over a custom bridge network (app-network), ensuring isolation from external services except Nginx which exposes port 80.

**Access the Application:**
Once the deployment is done, you can access your Vue.js application via the public IP of the EC2 instance, or the assigned domain:
       http://<ec2-public-ip>/


**check the docker images, container, network**
  sudo docker images
  sudo docker ps
  sudo docker network ls


**NB:** This setup ensures that the Vue.js application is isolated from the public internet except through the Nginx reverse proxy. You can manage scaling, updates, and containerized deployments easily using Docker Compose.
